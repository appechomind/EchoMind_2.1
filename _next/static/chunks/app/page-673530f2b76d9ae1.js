(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3129:function(e,t,r){Promise.resolve().then(r.bind(r,9717))},9717:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var a=r(3827),l=r(4090);function o(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}function s(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}let n=e=>{let{mediaItems:t,onImageClick:r,onDelete:l}=e;return 0===t.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No media items found. Upload some files to get started!"}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>(0,a.jsxs)("div",{className:"group relative aspect-square rounded-lg overflow-hidden bg-gray-100",children:[(0,a.jsx)("img",{src:e.url,alt:e.title,className:"w-full h-full object-cover cursor-pointer transition-transform group-hover:scale-105",onClick:()=>r(e)}),(0,a.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white",children:[(0,a.jsx)("h3",{className:"font-medium truncate",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-200",children:["Added ",s(e.createdAt)]})]}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),l(e.id)},className:"absolute top-2 right-2 p-1.5 bg-black/50 rounded-full text-white hover:bg-red-500 transition-colors",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},e.id))})};var i=r(3859);let c={"image/*":[".png",".jpg",".jpeg",".gif",".webp"],"video/*":[".mp4",".webm",".mov"]},d=e=>{let{onUpload:t}=e,r=(0,l.useCallback)(e=>{e.length>0&&t(e[0])},[t]),{getRootProps:o,getInputProps:s,isDragActive:n}=(0,i.uI)({onDrop:r,accept:c,maxFiles:1,maxSize:10485760});return(0,a.jsxs)("div",{...o(),className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors\n        ".concat(n?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-500"),children:[(0,a.jsx)("input",{...s()}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:(0,a.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:n?(0,a.jsx)("p",{children:"Drop the file here ..."}):(0,a.jsx)("p",{children:"Drag and drop a file here, or click to select"})}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, WebP, MP4, WebM, MOV up to 10MB"})]})]})},u=e=>{let{onTranscript:t}=e,[r,o]=(0,l.useState)(!1),[s,n]=(0,l.useState)(null),i=(0,l.useCallback)(()=>{if(!("webkitSpeechRecognition"in window)){n("Speech recognition is not supported in your browser");return}let e=new window.webkitSpeechRecognition;e.continuous=!0,e.interimResults=!0,e.onstart=()=>{o(!0),n(null)},e.onresult=e=>{t(Array.from(e.results).map(e=>e[0]).map(e=>e.transcript).join(""))},e.onerror=e=>{n("Error: ".concat(e.error)),o(!1)},e.onend=()=>{o(!1)},e.start()},[t]),c=(0,l.useCallback)(()=>{"webkitSpeechRecognition"in window&&new window.webkitSpeechRecognition().stop()},[]);return(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,a.jsx)("button",{onClick:r?c:i,className:"px-6 py-3 rounded-full font-medium transition-all transform hover:scale-105\n          ".concat(r?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"),children:r?"Stop Listening":"Start Voice Recognition"}),s&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:s}),r&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Listening..."})]})]})},m=e=>{let{projects:t,selectedProject:r,onProjectSelect:o,onProjectCreate:n,onProjectDelete:i}=e,[c,d]=(0,l.useState)("");return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold",children:"Projects"}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.trim()&&(n(c.trim()),d(""))},className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"New project name...",className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Create"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("button",{onClick:()=>o(null),className:"w-full text-left px-4 py-2 rounded-lg transition-colors\n            ".concat(null===r?"bg-blue-100 text-blue-700":"hover:bg-gray-100"),children:"All Media"}),t.map(e=>(0,a.jsxs)("div",{className:"group flex items-center justify-between px-4 py-2 rounded-lg transition-colors\n              ".concat(r===e.id?"bg-blue-100 text-blue-700":"hover:bg-gray-100"),children:[(0,a.jsxs)("button",{onClick:()=>o(e.id),className:"flex-1 text-left",children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.mediaCount," items â€¢ Created ",s(e.createdAt)]})]}),(0,a.jsx)("button",{onClick:()=>i(e.id),className:"opacity-0 group-hover:opacity-100 p-1 text-gray-500 hover:text-red-500 transition-opacity",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},e.id))]})]})},g={PROJECTS:"echomind_projects",MEDIA_ITEMS:"echomind_media_items"};function h(e,t){let r=g[e],[a,o]=(0,l.useState)(()=>{try{let e=window.localStorage.getItem(r);return e?JSON.parse(e):t}catch(e){return console.error("Error reading from localStorage (".concat(r,"):"),e),t}});(0,l.useEffect)(()=>{try{window.localStorage.setItem(r,JSON.stringify(a))}catch(e){console.error("Error writing to localStorage (".concat(r,"):"),e),e instanceof Error&&"QuotaExceededError"===e.name&&s()}},[r,a]);let s=(0,l.useCallback)(()=>{try{let e=Date.now()-2592e6;if(Array.isArray(a)){let t=a.filter(t=>t.updatedAt&&t.updatedAt>e);o(t)}}catch(e){console.error("Error clearing old data:",e)}},[a]),n=(0,l.useCallback)(()=>{try{window.localStorage.removeItem(r),o(t)}catch(e){console.error("Error clearing localStorage (".concat(r,"):"),e)}},[r,t]);return[a,o,n]}let p=e=>{let{className:t="",onMediaSelect:r,onProjectSelect:s}=e,[i,c]=h("MEDIA_ITEMS",[]),[g,p]=h("PROJECTS",[]),[x,b]=(0,l.useState)(null),[f,j]=(0,l.useState)(""),[v,w]=(0,l.useState)(!1),[N,y]=(0,l.useState)(null),k=(0,l.useCallback)(e=>{let t={id:o(),url:URL.createObjectURL(e),title:e.name,keywords:[],projectId:x||void 0,createdAt:Date.now(),updatedAt:Date.now()};c(e=>[...e,t])},[x,c]),C=(0,l.useCallback)(e=>{c(t=>t.filter(t=>t.id!==e))},[c]),S=(0,l.useCallback)(e=>{b(e),s&&s(e&&g.find(t=>t.id===e)||null)},[g,s]),M=(0,l.useCallback)(e=>{j(e)},[]),L=(0,l.useCallback)(e=>{y(e),r&&r(e)},[r]),E=(0,l.useCallback)(()=>{if(0===i.length)return;w(!0);let e=Math.floor(Math.random()*i.length),t=i[e];y(t),r&&r(t),setTimeout(()=>{w(!1),y(null)},3e3)},[i,r]),A=function(e,t){let r=t.toLowerCase();return e.filter(e=>e.title.toLowerCase().includes(r)||e.keywords.some(e=>e.toLowerCase().includes(r)))}(x?i.filter(e=>e.projectId===x):i,f);return(0,a.jsx)("div",{className:"bg-slate-900 ".concat(t),children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-8 bg-gradient-to-r from-blue-400 to-purple-500 text-transparent bg-clip-text",children:"EchoMind 2.1"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(m,{projects:g,selectedProject:x,onProjectSelect:S,onProjectCreate:e=>{let t={id:o(),name:e,description:"",mediaCount:0,createdAt:Date.now(),updatedAt:Date.now()};p(e=>[...e,t])},onProjectDelete:e=>{p(t=>t.filter(t=>t.id!==e)),x===e&&b(null)}}),(0,a.jsx)(d,{onUpload:k}),(0,a.jsx)(u,{onTranscript:M}),(0,a.jsx)("button",{onClick:E,disabled:v||0===i.length,className:"w-full py-3 rounded-lg font-medium transition-all\n                ".concat(v||0===i.length?"bg-gray-400 cursor-not-allowed":"bg-purple-500 hover:bg-purple-600 text-white"),children:v?"Performing Magic...":"Perform Magic Trick"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("input",{type:"text",value:f,onChange:e=>j(e.target.value),placeholder:"Search media...",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)(n,{mediaItems:A,onImageClick:L,onDelete:C})]})]}),N&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"relative max-w-4xl w-full",children:[(0,a.jsx)("img",{src:N.url,alt:N.title,className:"w-full h-auto rounded-lg"}),(0,a.jsx)("button",{onClick:()=>y(null),className:"absolute top-4 right-4 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-75",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]})})};function x(){return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900 animate-gradient",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[url('/grid.svg')] bg-center [mask-image:linear-gradient(180deg,white,rgba(255,255,255,0))]"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)(p,{})})]})}}},function(e){e.O(0,[859,971,69,744],function(){return e(e.s=3129)}),_N_E=e.O()}]);